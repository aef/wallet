<div class="tezos-operation-delegation" [formGroup]="tezosOperationDelegationForm" ngrxForm="tezos.tezosOperationDelegation">

  <mat-form-field appearance="outline">

    <mat-label>From</mat-label>
    <mat-select placeholder="From" formControlName="from">
      <mat-option *ngFor="let from of tezosWalletListFrom | async" [value]="from.publicKeyHash">
        {{ from.name }} | {{ from.balance * 0.000001 | number:'1.0-6' }} êœ©
      </mat-option>
    </mat-select>
    <mat-error>
      Please choose address
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>To</mat-label>
    <input matInput #address placeholder="To" formControlName="to">
    <mat-hint align="end">{{address.value?.length || 0}}/36</mat-hint>
    <mat-error>
      Please choose address
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" *ngIf="tezosWalletDetail?.delegate?.setable!==true">

    <mat-label>Amount</mat-label>
    <input matInput #amount type="number" placeholder="Amount" formControlName="amount" />
    <mat-hint align="end">{{amount.value?.length || 0}}/8</mat-hint>
    <mat-error>
      Please enter amount
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">

    <mat-label>Fee</mat-label>
    <input matInput #fee type="number" placeholder="Fee" formControlName="fee" />
    <mat-hint align="end">{{fee.value?.length || 0}}/8</mat-hint>
    <mat-error>
      Please enter fee
    </mat-error>
  </mat-form-field>

  <!-- 
  <mat-form-field appearance="outline" *ngIf="tezosWalletDetail?.delegate?.setable!==true">
    <mat-label>Name</mat-label>
    <input matInput #address placeholder="Name" formControlName="name" />
    <mat-hint align="end">{{address.value?.length || 0}}/36</mat-hint>
    <mat-error>
      Please choose new address name
    </mat-error>
  </mat-form-field> -->

</div>

<br />
<br />

<button *ngIf="tezosWalletDetail?.type !== 'TREZOR_T'" mat-flat-button (click)="delegate('WEB')">
  <fa-icon [icon]="['fal', 'arrow-right']"></fa-icon> &nbsp;
  Delegate Funds
</button>

<button *ngIf="tezosWalletDetail?.type === 'TREZOR_T'" mat-flat-button (click)="delegate('TREZOR_T')">
  <fa-icon [icon]="['fal', 'arrow-right']"></fa-icon> &nbsp;
  Continue to Connect Trezor
</button>